import os

def change_file_name_and_extension(current_file_path, new_file_name, new_extension):
    if os.path.exists(current_file_path):
        # Get the directory of the current file
        parent_directory = os.path.dirname(current_file_path)
        
        # Create the new file path with the new file name and extension
        new_file_path = os.path.join(parent_directory, f"{new_file_name}.{new_extension}")
        
        try:
            # Rename the file
            os.rename(current_file_path, new_file_path)
            print("File name and extension changed successfully.")
        except Exception as e:
            print("Failed to change file name and extension:", e)
    else:
        print("File does not exist.")

# Provide the current file path
current_file_path = "path/to/oldfile.txt"

# Provide the new file name and extension
new_file_name = "newfile"
new_extension = "dat"

change_file_name_and_extension(current_file_path, new_file_name, new_extension)
